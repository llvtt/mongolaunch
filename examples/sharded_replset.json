{
    "configuration_title": "Sharded cluster with 1 replica set shard",

    "instances": [
        {
            "_id": "rs_0_shard_0",

            "__comment__": "Amazon linux",
            "ami": "ami-a43909e1",

            "mongo" : {
                "bin": "mongod",
                "options": "--replSet shard_0 --nojournal --noprealloc",
                "version": "2.4.9"
            }
        },
        {
            "_id": "rs_1_shard_0",

            "__comment__": "Amazon linux",
            "ami": "ami-a43909e1",

            "mongo" : {
                "bin": "mongod",
                "options": "--replSet shard_0 --nojournal --noprealloc",
                "version": "2.4.9"
            }
        },
        {
            "__comment__": "This _id is used to describe which instance holds the mongos below",
            "_id": "mongos_0",

            "ami": "ami-a43909e1",
            "mongo": {
                "bin": "mongos",
                "options": "",
                "version": "2.4.9"
            }
        }
    ],

    "__comment__": "Description of non-standalone MongoDB configurations",
    "clusters": [
        {
            "__comment__": "This is used in the \"members\" array when adding this replset as a shard",
            "_id": "shard_0",

            "type": "replicaSet",
            "members": ["rs_0_shard_0", "rs_1_shard_0"],

            "__comment__": "name is required for replicaSet and should match --replSet. Does not have to match _id",
            "name": "shard_0"
        },
        {
            "_id": "shcluster",
            
            "type": "shardedCluster",

            "__comment__": "This uses the _id from the replica set description above",
            "members": ["shard_0"],

            "__comment__": "This is the _id of the mongos instance",
            "mongos": "mongos_0"
        }
    ]
}
